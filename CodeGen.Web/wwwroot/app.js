var templatingApp;!function(){"use strict";templatingApp=angular.module("templating_app",["ui.router"])}(),templatingApp.config(["$locationProvider","$stateProvider","$urlRouterProvider","$urlMatcherFactoryProvider","$compileProvider",function(e,t,n,o,l){window.history&&window.history.pushState&&e.html5Mode({enabled:!0,requireBase:!0}).hashPrefix("!"),o.strictMode(!1),l.debugInfoEnabled(!1),t.state("home",{url:"/",templateUrl:"./views/home/home.html",controller:"HomeController"}).state("about",{url:"/about",templateUrl:"./views/about/about.html",controller:"AboutController"}),n.otherwise("/home")}]),templatingApp.controller("AboutController",["$scope","$http",function(e,t){e.title="About Page"}]),templatingApp.controller("HomeController",["$scope","$http",function(o,l){o.dbId=0,o.dbname=null,o.tableInfo=null,o.collist=[],o.isCheckAll=0,$("#checkAll").click(function(){$("input:checkbox").not(this).prop("checked",this.checked);var e=$('#checkboxes input:checked[name="coList[]"]').map(function(){return $(this).val()}).get().length;if(0<e)for(var t=1;t<=e;t++){var n=document.getElementById("chkc_"+t);angular.element(n).triggerHandler("click")}else o.collist=[]}),l({method:"GET",url:"/api/Codegen/GetDatabaseList"}).then(function(e){o.dblist=e.data},function(e){console.log(e)}),o.getAllTable=function(e){o.dbId=e.databaseId,o.dbname=e.databaseName,o.dbModel={DatabaseId:e.databaseId,DatabaseName:e.databaseName},l({method:"POST",url:"/api/Codegen/GetDatabaseTableList",data:o.dbModel}).then(function(e){o.tblist=e.data},function(e){console.log(e)})},o.getAllTableColumn=function(t){o.dbModel={DatabaseId:o.dbId,DatabaseName:o.dbname,TableId:t.tableId,TableName:t.tableName},l({method:"POST",url:"/api/Codegen/GetDatabaseTableColumnList",data:o.dbModel}).then(function(e){o.tableInfo=t,o.colist=e.data},function(e){console.log(e)})},o.getColumn=function(e,t){if(t){"Not exist"==a(e.columnId,o.collist)&&o.collist.push({ColumnId:e.columnId,ColumnName:e.columnName,DataType:e.dataType,MaxLength:e.maxLength,IsNullable:e.isNullable,TableSchema:e.tableSchema,Tablename:e.tablename,ColumnDescription:e.columnDescription})}else{var n=o.collist.indexOf(e.ColumnId);-1<n&&o.collist.splice(n,1)}},o.generate=function(){$('.nav-tabs a[href="#views"]').tab("show");var t=[],n="genCodeSql";0<o.collist.length?l({method:"POST",url:"/api/Codegen/GenerateCode",data:{table:o.tableInfo,columns:o.collist},dataType:"json",contentType:"application/json; charset=utf-8"}).then(function(e){$("#genCodeSql").text(""),$("#genCodeVm").text(""),$("#genCodeVu").text(""),$("#genCodeAngular").text(""),$("#genCodeAPI").text(""),(t=e.data).hasOwnProperty("View")&&(document.getElementById("genCodeVu").innerHTML+=t.View+"\r\n"),t.hasOwnProperty("NG")&&(document.getElementById("genCodeAngular").innerHTML+=t.NG+"\r\n"),t.hasOwnProperty("APIGet")&&(document.getElementById("genCodeAPI").innerHTML+=t.APIGet+"\r\n"),t.hasOwnProperty("DbModel")&&(document.getElementById("genCodeVm").innerHTML+=t.DbModel+"\r\n"),t.hasOwnProperty("SPSet")&&(document.getElementById(n).innerHTML+=t.SPSet+"\r\n\r\n"),t.hasOwnProperty("SPGet")&&(document.getElementById(n).innerHTML+=t.SPGet+"\r\n\r\n"),t.hasOwnProperty("SPPut")&&(document.getElementById(n).innerHTML+=t.SPPut+"\r\n\r\n"),t.hasOwnProperty("SPDelete")&&(document.getElementById(n).innerHTML+=t.SPDelete+"\r\n\r\n")},function(e){console.log(e)}):(t=[],$("#genCodeSql").text(""),$("#genCodeVm").text(""),console.log("Please Choose a Column!!"))},o.reset=function(){o.collist=[],rowGen=[],$("#genCodeSql").text(""),$("#genCodeVm").text("")};var a=function(e,t){for(var n="Not exist",o=0;o<t.length;o++){if(t[o].columnId==e){n="Exist";break}}return n}}]),templatingApp.directive("topNavbarmenu",function(){return{restrict:"EA",templateUrl:"views/shared/navbar/nav.html"}}),templatingApp.directive("fixedSidebarleft",function(){return{restrict:"EA",templateUrl:"views/shared/sidebar/menu.html"}});